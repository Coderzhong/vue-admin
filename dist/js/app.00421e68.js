(function(e){function t(t){for(var a,r,u=t[0],s=t[1],c=t[2],d=0,l=[];d<u.length;d++)r=u[d],o[r]&&l.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);m&&m(t);while(l.length)l.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==o[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function u(e){return s.p+"js/"+({404:"404",dashboard:"dashboard",document:"document",form:"form",layout:"layout",list:"list",login:"login",map:"map",muitiMenu:"muitiMenu"}[e]||e)+"."+{404:"fb9be9c9",dashboard:"978a50d9",document:"56f4c76d",form:"685e60a0",layout:"75171069",list:"0ce405c5",login:"750cfb6d",map:"8e5a8850",muitiMenu:"3923a179"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={404:1,dashboard:1,document:1,form:1,layout:1,list:1,login:1,map:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({404:"404",dashboard:"dashboard",document:"document",form:"form",layout:"layout",list:"list",login:"login",map:"map",muitiMenu:"muitiMenu"}[e]||e)+"."+{404:"9ab3c346",dashboard:"22539089",document:"c97a7ad6",form:"cef53b1d",layout:"02200897",list:"bebb0820",login:"ef1e8186",map:"ff15b262",muitiMenu:"31d6cfe0"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=i[u],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===o))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){c=l[u],d=c.getAttribute("data-href");if(d===a||d===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],m.parentNode.removeChild(m),n(i)},m.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(m)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(e),c=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[e]=void 0}};var l=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var m=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4260:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});n("f10e"),n("5f33");function a(){var e=(new Date).getHours(),t="";switch(!0){case e>6&&e<9:t="早上好";break;case e>=9&&e<=12:t="上午好";break;case e>12&&e<17:t="下午好";break;case e>=17&&e<19:t="傍晚好";break;case e>=19&&e<22:t="晚上好";break;default:t="工作辛苦了"}return t}function r(e,t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=e.match(/\?(\S*)/)[1].match(n);return null!=a?a[2]:null}},4360:function(e,t,n){"use strict";var a=n("6e6d"),r=n("591a"),o={sidebar:{isCollapse:!1},device:"desktop"},i={TOGGLE_SIDEBAR:function(e){e.sidebar.isCollapse=!e.sidebar.isCollapse},TOGGLE_DEVICE:function(e,t){e.device=t},CLOSE_SIDEBAR:function(e){e.sidebar.isCollapse=!0},OPEN_SIDEBAR:function(e){e.sidebar.isCollapse=!1}},u={},s={namespaced:!0,state:o,mutations:i,actions:u},c=(n("3a23"),n("a576")),d=function(e){return c["a"].post("api/login",e)},l=function(e){return c["a"].get("api/getUserInfo",{params:e})},m=n("dbe4"),f=n("a18c"),p={token:Object(m["a"])(),name:"",avatar:"",role:{},info:{}},h={SET_TOKEN:function(e,t){e.token=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLE:function(e,t){e.role=t},SET_INFO:function(e,t){e.info=t}},b={login:function(e,t){var n=e.commit;return new Promise(function(e,a){d(t).then(function(t){var a=t.code,r=t.data.token;0===a&&(n("SET_TOKEN",r),Object(m["c"])(r),e())}).catch(function(e){a(e)})})},getUserInfo:function(e){var t=e.commit,n=e.state;return new Promise(function(e,a){l({id:n.token}).then(function(n){var r=n.code,o=n.message,i=n.data;0!==r&&a(new Error(o));var u=i.token,s=i.userInfo,c=s.name,d=s.avatar,l=s.role;(!l||l.permissions.length<=0)&&a(new Error("role的permissions字段必须是个非空的数组")),l.permissionList=l.permissions.map(function(e){return e.permissionId}),Object(m["c"])(u),t("SET_NAME",c),t("SET_AVATAR",d),t("SET_ROLE",l),t("SET_INFO",s),e(i)}).catch(function(e){a(e)})})},logout:function(e){var t=e.commit;e.state;t("SET_TOKEN",""),t("SET_NAME",""),t("SET_ROLE",{}),t("SET_INFO",{}),Object(m["b"])(),Object(f["d"])()},resetToken:function(e){var t=e.commit;return new Promise(function(e){t("SET_TOKEN",""),t("SET_ROLE",{}),Object(m["b"])(),e()})}},g={namespaced:!0,state:p,mutations:h,actions:b},v=(n("e0c1"),n("93fe"),n("5a1b")),E=n.n(v);function _(e,t){if(t.meta&&t.meta.permission){for(var n=!1,a=0,r=e.length;a<r;a++)if(n=t.meta.permission.includes(e[a]),n)return!0;return!1}return!0}function y(e,t){var n=e.filter(function(e){return!!_(t.permissionList,e)&&(e.children&&e.children.length&&(e.children=y(e.children,t)),!0)});return n}var S={routes:[],addRoutes:[]},O={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=f["b"].concat(t)}},k={generateRoutes:function(e,t){var n=e.commit;return new Promise(function(e){var a=y(E()(f["a"]),t);n("SET_ROUTES",a),e(a)})}},T={namespaced:!0,state:S,mutations:O,actions:k};a["default"].use(r["a"]);t["a"]=new r["a"].Store({modules:{app:s,user:g,permission:T}})},"56d7":function(e,t,n){"use strict";n.r(t);n("5c07"),n("53da"),n("2556"),n("d0f8");var a=n("6e6d"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=n("17cc"),u={},s=Object(i["a"])(u,r,o,!1,null,null,null),c=s.exports,d=(n("5b17"),n("20e9"),n("d093"),n("bea0"));a["default"].use(d["Pagination"]),a["default"].use(d["Scrollbar"]),a["default"].use(d["Dialog"]),a["default"].use(d["Dropdown"]),a["default"].use(d["DropdownMenu"]),a["default"].use(d["DropdownItem"]),a["default"].use(d["Menu"]),a["default"].use(d["Submenu"]),a["default"].use(d["MenuItem"]),a["default"].use(d["MenuItemGroup"]),a["default"].use(d["Input"]),a["default"].use(d["InputNumber"]),a["default"].use(d["Radio"]),a["default"].use(d["RadioGroup"]),a["default"].use(d["Checkbox"]),a["default"].use(d["CheckboxGroup"]),a["default"].use(d["Select"]),a["default"].use(d["Option"]),a["default"].use(d["Button"]),a["default"].use(d["Table"]),a["default"].use(d["TableColumn"]),a["default"].use(d["DatePicker"]),a["default"].use(d["TimePicker"]),a["default"].use(d["Tooltip"]),a["default"].use(d["Breadcrumb"]),a["default"].use(d["BreadcrumbItem"]),a["default"].use(d["Form"]),a["default"].use(d["FormItem"]),a["default"].use(d["Tag"]),a["default"].use(d["Icon"]),a["default"].use(d["Row"]),a["default"].use(d["Col"]),a["default"].use(d["Progress"]),a["default"].use(d["Badge"]),a["default"].use(d["Card"]),a["default"].use(d["Steps"]),a["default"].use(d["Step"]),a["default"].use(d["Loading"].directive),a["default"].prototype.$loading=d["Loading"].service,a["default"].prototype.$msgbox=d["MessageBox"],a["default"].prototype.$alert=d["MessageBox"].alert,a["default"].prototype.$confirm=d["MessageBox"].confirm,a["default"].prototype.$prompt=d["MessageBox"].prompt,a["default"].prototype.$notify=d["Notification"],a["default"].prototype.$message=d["Message"];n("c018"),n("f842"),n("508f");var l=n("a18c"),m=n("4360"),f=(n("3a23"),n("e0c1"),n("3556")),p=(n("4453"),n("a7ca")),h=n("dbe4"),b=n("38bc"),g=n.n(b);n("70e7");g.a.configure({showSpinner:!1});var v=["login"];l["c"].beforeEach(function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,n,a){var r,o,i,u,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(g.a.start(),r=Object(h["a"])(),!r){e.next=34;break}if("/login"!==t.path){e.next=8;break}a({path:"/"}),g.a.done(),e.next=32;break;case 8:if(o=m["a"].state.user.role&&m["a"].state.user.role.permissions,!o){e.next=13;break}a(),e.next=32;break;case 13:return e.prev=13,e.next=16,m["a"].dispatch("user/getUserInfo");case 16:return i=e.sent,u=i.userInfo.role,e.next=20,m["a"].dispatch("permission/generateRoutes",u);case 20:s=e.sent,l["c"].addRoutes(s),a(Object(f["a"])({},t,{replace:!0})),e.next=32;break;case 25:return e.prev=25,e.t0=e["catch"](13),e.next=29,m["a"].dispatch("user/resetToken");case 29:d["Message"].error(e.t0||"Has Error"),a({path:"/login"}),g.a.done();case 32:e.next=35;break;case 34:v.includes(t.name)?a():(a({path:"/login"}),g.a.done());case 35:case"end":return e.stop()}},e,null,[[13,25]])}));return function(t,n,a){return e.apply(this,arguments)}}()),l["c"].afterEach(function(){g.a.done()});n("93fe"),n("612f"),a["default"].directive("action",{inserted:function(e,t,n){var a=t.arg,r=m["a"].state.user.role,o=n.context.$route.meta.permission,i=o instanceof String&&[o]||o;r.permissions.forEach(function(t){i.includes(t.permissionId)&&t.actionList&&!t.actionList.includes(a)&&(e.parentNode&&e.parentNode.removeChild(e)||(e.style.display="none"))})}});for(var E=n("fddc"),_=n.n(E),y=n("4260"),S={admin:"admin-token",visitor:"visitor-token"},O={"admin-token":{name:"至尊宝",avatar:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1557495976853&di=3d57f91b4e885cfae438d067b07e6ff9&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201701%2F18%2F20170118234946_UmwMS.thumb.224_0.jpeg",username:"admin",roleId:"admin",role:{permissions:[{permissionId:"dashboard",permissionName:"首页",actionList:["profit"]},{permissionId:"list",permissionName:"列表",actionList:[]},{permissionId:"multiMenu",permissionName:"多级菜单",actionList:[]},{permissionId:"form",permissionName:"表单",actionList:[]},{permissionId:"permissionForm",permissionName:"权限表单",actionList:["add","delete"]}]}},"visitor-token":{name:"唐僧",avatar:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1557496245032&di=70e18d8e14e9f26abc85284421d89771&imgtype=0&src=http%3A%2F%2Faliimg.changba.com%2Fcache%2Fphoto%2F134115095_640_640.jpg",username:"visitor",roleId:"visitor",role:{permissions:[{permissionId:"dashboard",permissionName:"首页",actionList:[]}]}}},k=(_.a.mock(/api\/login/,"post",function(e){var t=JSON.parse(e.body),n=t.username,a=S[n];return a?{code:0,message:"OK",data:{token:a}}:{code:110,message:"用户名不正确",data:{}}}),_.a.mock(/api\/getUserInfo/,"get",function(e){var t=Object(y["a"])(e.url,"id"),n=O[t];return n?{code:0,message:"OK",data:{token:t,userInfo:n}}:{code:110,message:"登录失败，无法获取用户信息",data:{}}}),[]),T=_.a.mock("@integer(60, 178)"),x=0;x<T;x++)k.push(_.a.mock({"number|1000000-9999999":1234567,name:_.a.mock("@cword(`零一二三四五六七八九十`, 3)"),"origin|1":["北京","上海","广州"],date:_.a.mock("@date")}));_.a.mock(/api\/getList/,"get",function(e){var t=Object(y["a"])(e.url,"currentPage"),n=Object(y["a"])(e.url,"pageSize");if(t){var a=Math.ceil(T/n),r=k.filter(function(e,a){return a<n*t&&a>=n*(t-1)});return{code:0,message:"OK",data:{currentPage:1,total:T,pageSize:n,pages:a,list:r}}}return{code:110,message:"查询错误",data:{}}});console.log(Object({NODE_ENV:"production",VUE_APP_BASE_URl:"prod-url/",VUE_APP_CLI_UI_URL:"",VUE_APP_ENV:"production",BASE_URL:""})),a["default"].config.productionTip=!1,new a["default"]({router:l["c"],store:m["a"],render:function(e){return e(c)}}).$mount("#app")},a18c:function(e,t,n){"use strict";n.d(t,"b",function(){return E}),n.d(t,"a",function(){return _}),n.d(t,"d",function(){return O});var a=n("6e6d"),r=n("1e6f"),o=function(){return n.e("login").then(n.bind(null,"033a"))},i=function(){return n.e("layout").then(n.bind(null,"eaf6"))},u=function(){return n.e("dashboard").then(n.bind(null,"cd59"))},s=function(){return n.e("document").then(n.bind(null,"080f"))},c=function(){return n.e("document").then(n.bind(null,"ba4e"))},d=function(){return n.e("muitiMenu").then(n.bind(null,"bd13"))},l=function(){return n.e("muitiMenu").then(n.bind(null,"fda3"))},m=function(){return n.e("muitiMenu").then(n.bind(null,"0e3f"))},f=function(){return n.e("muitiMenu").then(n.bind(null,"fffc"))},p=function(){return n.e("form").then(n.bind(null,"23bd"))},h=function(){return n.e("form").then(n.bind(null,"7995"))},b=function(){return n.e("list").then(n.bind(null,"26d4"))},g=function(){return n.e("map").then(n.bind(null,"ace3"))},v=function(){return n.e("404").then(n.bind(null,"2754"))};a["default"].use(r["a"]);var E=[{path:"/login",name:"login",component:o,hidden:!0},{path:"/404",name:"err404",component:v,hidden:!0}],_=[{path:"/",name:"layout",component:i,redirect:"/dashboard",children:[{path:"/dashboard",name:"dashboard",component:u,meta:{title:"首页",icon:"dashboard",permission:["dashboard"]}}]},{path:"/map",name:"map",component:i,children:[{path:"index",name:"mapIndex",component:g,meta:{title:"定位",icon:"location-arrow"}}]},{path:"/document",name:"document",component:i,meta:{title:"文档",icon:"file-text"},children:[{path:"index",name:"documentIndex",component:s,meta:{title:"索引"}},{path:"conventions",name:"donventions",component:c,meta:{title:"规范"}}]},{path:"/list",name:"list",component:i,children:[{path:"index",name:"listIndex",component:b,meta:{title:"列表",icon:"list",permission:["list"]}}]},{path:"/form",name:"form",component:i,meta:{title:"表单",icon:"edit",permission:["form"]},children:[{path:"form1",name:"form1",component:p,meta:{title:"表单"}},{path:"step-form",name:"stepForm",component:h,meta:{title:"分步表单"}}]},{path:"/menu",name:"menu",component:i,meta:{title:"多级菜单",icon:"th",permission:["multiMenu"]},children:[{path:"menu1",name:"menu1",component:d,meta:{title:"菜单1"},children:[{path:"menu1-1",name:"menu1-1",component:l,meta:{title:"菜单1-1"}},{path:"menu1-2",name:"menu1-2",component:m,meta:{title:"菜单1-2"}}]},{path:"menu2",name:"menu2",component:f,meta:{title:"菜单2"}}]},{path:"*",name:"all",component:v,hidden:!0}],y=function(){return new r["a"]({scrollBehavior:function(){return{y:0}},routes:E})},S=y();function O(){var e=y();S.matcher=e.matcher}t["c"]=S},a576:function(e,t,n){"use strict";n("48fb");var a=n("7f43"),r=n.n(a),o=n("dbe4"),i=n("bea0"),u=r.a.create({baseURL:Object({NODE_ENV:"production",VUE_APP_BASE_URl:"prod-url/",VUE_APP_CLI_UI_URL:"",VUE_APP_ENV:"production",BASE_URL:""}).VUE_APP_BASE_URL,timeout:5e3});u.interceptors.request.use(function(e){var t=Object(o["a"])();return t&&(e.headers["Authorization"]=t),e},function(e){return console.log(e),Promise.reject(e)}),u.interceptors.response.use(function(e){var t=e.data,n=t.code,a=t.message,r=t.data;return n&&0!==n&&i["MessageBox"].alert(a,{type:"warning"}),{code:n,message:a,data:r}},function(e){return i["MessageBox"].alert(e.toString(),{type:"warning"}),Promise.reject(e)}),t["a"]=u},c018:function(e,t,n){},d093:function(e,t,n){e.exports={menuBg:"#001529",menuText:"#bfcbd9"}},dbe4:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return s});var a=n("8c92"),r=n.n(a),o="Token";function i(){return r.a.get(o)}function u(e){return r.a.set(o,e,{expires:1})}function s(){return r.a.remove(o)}},f842:function(e,t,n){e.exports={menuBg:"#001529",menuText:"#bfcbd9"}}});