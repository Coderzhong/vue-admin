(function(e){function t(t){for(var a,r,u=t[0],s=t[1],c=t[2],d=0,l=[];d<u.length;d++)r=u[d],o[r]&&l.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);m&&m(t);while(l.length)l.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==o[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function u(e){return s.p+"js/"+({404:"404",dashboard:"dashboard",document:"document",form:"form",layout:"layout",list:"list",login:"login",map:"map",muitiMenu:"muitiMenu"}[e]||e)+"."+{404:"2c7d92f9",dashboard:"3bbd93e9",document:"2d8ebf56",form:"9815682f",layout:"45cef799",list:"902b76c1",login:"c302e7e7",map:"787fd579",muitiMenu:"22f03b9a"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={404:1,dashboard:1,document:1,form:1,layout:1,list:1,login:1,map:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({404:"404",dashboard:"dashboard",document:"document",form:"form",layout:"layout",list:"list",login:"login",map:"map",muitiMenu:"muitiMenu"}[e]||e)+"."+{404:"9ab3c346",dashboard:"51769b03",document:"c97a7ad6",form:"cef53b1d",layout:"61b6b0db",list:"bebb0820",login:"5d1f781e",map:"8cca4ea5",muitiMenu:"31d6cfe0"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=i[u],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===o))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){c=l[u],d=c.getAttribute("data-href");if(d===a||d===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],m.parentNode.removeChild(m),n(i)},m.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(m)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(e),c=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[e]=void 0}};var l=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var m=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4260:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});n("3c6b"),n("7c56");function a(){var e=(new Date).getHours(),t="";switch(!0){case e>6&&e<9:t="早上好";break;case e>=9&&e<=12:t="上午好";break;case e>12&&e<17:t="下午好";break;case e>=17&&e<19:t="傍晚好";break;case e>=19&&e<22:t="晚上好";break;default:t="工作辛苦了"}return t}function r(e,t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=e.match(/\?(\S*)/)[1].match(n);return null!=a?a[2]:null}},4360:function(e,t,n){"use strict";var a=n("6e6d"),r=n("591a"),o={sidebar:{isCollapse:!1},device:"desktop"},i={TOGGLE_SIDEBAR:function(e){e.sidebar.isCollapse=!e.sidebar.isCollapse},TOGGLE_DEVICE:function(e,t){e.device=t},CLOSE_SIDEBAR:function(e){e.sidebar.isCollapse=!0},OPEN_SIDEBAR:function(e){e.sidebar.isCollapse=!1}},u={},s={namespaced:!0,state:o,mutations:i,actions:u},c=(n("7364"),n("a576")),d=function(e){return c["a"].post("api/login",e)},l=function(e){return c["a"].get("api/getUserInfo",{params:e})},m=n("dbe4"),f=n("a18c"),p={token:Object(m["a"])(),name:"",avatar:"",role:{},info:{}},b={SET_TOKEN:function(e,t){e.token=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLE:function(e,t){e.role=t},SET_INFO:function(e,t){e.info=t}},h={login:function(e,t){var n=e.commit;return new Promise(function(e,a){d(t).then(function(t){var a=t.code,r=t.data.token;0===a&&(n("SET_TOKEN",r),Object(m["c"])(r),e())}).catch(function(e){a(e)})})},getUserInfo:function(e){var t=e.commit,n=e.state;return new Promise(function(e,a){l({id:n.token}).then(function(n){var r=n.code,o=n.message,i=n.data;0!==r&&a(new Error(o));var u=i.token,s=i.userInfo,c=s.name,d=s.avatar,l=s.role;(!l||l.permissions.length<=0)&&a(new Error("role的permissions字段必须是个非空的数组")),l.permissionList=l.permissions.map(function(e){return e.permissionId}),Object(m["c"])(u),t("SET_NAME",c),t("SET_AVATAR",d),t("SET_ROLE",l),t("SET_INFO",s),e(i)}).catch(function(e){a(e)})})},logout:function(e){var t=e.commit;e.state;t("SET_TOKEN",""),t("SET_NAME",""),t("SET_ROLE",{}),t("SET_INFO",{}),Object(m["b"])(),Object(f["d"])()},resetToken:function(e){var t=e.commit;return new Promise(function(e){t("SET_TOKEN",""),t("SET_ROLE",{}),Object(m["b"])(),e()})}},g={namespaced:!0,state:p,mutations:b,actions:h},v=(n("f301"),n("df99"),n("5a1b")),E=n.n(v);function y(e,t){if(t.meta&&t.meta.permission){for(var n=!1,a=0,r=e.length;a<r;a++)if(n=t.meta.permission.includes(e[a]),n)return!0;return!1}return!0}function O(e,t){var n=e.filter(function(e){return!!y(t.permissionList,e)&&(e.children&&e.children.length&&(e.children=O(e.children,t)),!0)});return n}var _={routes:[],addRoutes:[]},S={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=f["b"].concat(t)}},k={generateRoutes:function(e,t){var n=e.commit;return new Promise(function(e){var a=O(E()(f["a"]),t);n("SET_ROUTES",a),e(a)})}},T={namespaced:!0,state:_,mutations:S,actions:k};a["default"].use(r["a"]);t["a"]=new r["a"].Store({modules:{app:s,user:g,permission:T}})},"56d7":function(e,t,n){"use strict";n.r(t);n("dac5"),n("6e26"),n("9604"),n("df67");var a=n("6e6d"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=n("17cc"),u={},s=Object(i["a"])(u,r,o,!1,null,null,null),c=s.exports,d=(n("0b92"),n("3050"),n("5308")),l=n.n(d),m=(n("d8bc"),n("3a76")),f=n.n(m),p=(n("bfe3"),n("156b")),b=n.n(p),h=(n("98a5"),n("fc2a")),g=n.n(h),v=(n("be1d"),n("d774")),E=n.n(v),y=(n("05a5"),n("86d7")),O=n.n(y),_=(n("761f"),n("7d2b")),S=n.n(_),k=(n("9f4b"),n("018d")),T=n.n(k),w=(n("6fdd"),n("b103")),x=n.n(w),j=(n("751f"),n("44de")),L=n.n(j),N=(n("2aa3"),n("430e")),I=n.n(N),A=(n("d8bd"),n("a07b")),R=n.n(A),M=(n("e1f1"),n("5035")),P=n.n(M),F=(n("15ad"),n("05f2")),C=n.n(F),U=(n("164a"),n("92a2")),B=n.n(U),D=(n("e2da"),n("763e")),z=n.n(D),K=(n("0246"),n("2ae7")),V=n.n(K),q=(n("0d84"),n("e247")),G=n.n(q),$=(n("8909"),n("7409")),H=n.n($),J=(n("39ab"),n("c843")),Q=n.n(J),W=(n("d005"),n("ae55")),X=n.n(W),Y=(n("8008"),n("09b1")),Z=n.n(Y),ee=(n("b530"),n("c538")),te=n.n(ee),ne=(n("d291"),n("d6ac")),ae=n.n(ne),re=(n("93a0"),n("3493")),oe=n.n(re),ie=(n("9b81"),n("6fd3")),ue=n.n(ie),se=(n("4543"),n("07ba")),ce=n.n(se),de=(n("b8df"),n("e3ec")),le=n.n(de),me=(n("4718"),n("d177")),fe=n.n(me),pe=(n("76ed"),n("159c")),be=n.n(pe),he=(n("e117"),n("506c")),ge=n.n(he),ve=(n("5251"),n("4074")),Ee=n.n(ve),ye=(n("1cf9"),n("9ea2")),Oe=n.n(ye),_e=(n("524b"),n("45c3")),Se=n.n(_e),ke=(n("99a7"),n("8652")),Te=n.n(ke),we=(n("ab84"),n("8a40")),xe=n.n(we),je=(n("f016"),n("7bdc")),Le=n.n(je),Ne=(n("7136"),n("e500")),Ie=n.n(Ne);n("5b17"),n("20e9"),n("d093");a["default"].use(Ie.a),a["default"].use(Le.a),a["default"].use(xe.a),a["default"].use(Te.a),a["default"].use(Se.a),a["default"].use(Oe.a),a["default"].use(Ee.a),a["default"].use(ge.a),a["default"].use(be.a),a["default"].use(fe.a),a["default"].use(le.a),a["default"].use(ce.a),a["default"].use(ue.a),a["default"].use(oe.a),a["default"].use(ae.a),a["default"].use(te.a),a["default"].use(Z.a),a["default"].use(X.a),a["default"].use(Q.a),a["default"].use(H.a),a["default"].use(G.a),a["default"].use(V.a),a["default"].use(z.a),a["default"].use(B.a),a["default"].use(C.a),a["default"].use(P.a),a["default"].use(R.a),a["default"].use(I.a),a["default"].use(L.a),a["default"].use(x.a),a["default"].use(T.a),a["default"].use(S.a),a["default"].use(O.a),a["default"].use(E.a),a["default"].use(g.a),a["default"].use(b.a),a["default"].use(f.a),a["default"].use(l.a.directive);n("c018"),n("9607"),n("508f");var Ae=n("a18c"),Re=n("4360"),Me=(n("7364"),n("f301"),n("0da4"),n("03a8")),Pe=n.n(Me),Fe=n("e20c"),Ce=(n("4453"),n("089b")),Ue=n("dbe4"),Be=n("38bc"),De=n.n(Be);n("70e7");De.a.configure({showSpinner:!1});var ze=["login"];Ae["c"].beforeEach(function(){var e=Object(Ce["a"])(regeneratorRuntime.mark(function e(t,n,a){var r,o,i,u,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(De.a.start(),r=Object(Ue["a"])(),!r){e.next=34;break}if("/login"!==t.path){e.next=8;break}a({path:"/"}),De.a.done(),e.next=32;break;case 8:if(o=Re["a"].state.user.role&&Re["a"].state.user.role.permissions,!o){e.next=13;break}a(),e.next=32;break;case 13:return e.prev=13,e.next=16,Re["a"].dispatch("user/getUserInfo");case 16:return i=e.sent,u=i.userInfo.role,e.next=20,Re["a"].dispatch("permission/generateRoutes",u);case 20:s=e.sent,Ae["c"].addRoutes(s),a(Object(Fe["a"])({},t,{replace:!0})),e.next=32;break;case 25:return e.prev=25,e.t0=e["catch"](13),e.next=29,Re["a"].dispatch("user/resetToken");case 29:Pe.a.error(e.t0||"Has Error"),a({path:"/login"}),De.a.done();case 32:e.next=35;break;case 34:ze.includes(t.name)?a():(a({path:"/login"}),De.a.done());case 35:case"end":return e.stop()}},e,null,[[13,25]])}));return function(t,n,a){return e.apply(this,arguments)}}()),Ae["c"].afterEach(function(){De.a.done()});n("df99"),n("f763"),a["default"].directive("action",{inserted:function(e,t,n){var a=t.arg,r=Re["a"].state.user.role,o=n.context.$route.meta.permission,i=o instanceof String&&[o]||o;r.permissions.forEach(function(t){i.includes(t.permissionId)&&t.actionList&&!t.actionList.includes(a)&&(e.parentNode&&e.parentNode.removeChild(e)||(e.style.display="none"))})}});for(var Ke=n("fddc"),Ve=n.n(Ke),qe=n("4260"),Ge={admin:"admin-token",visitor:"visitor-token"},$e={"admin-token":{name:"至尊宝",avatar:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1557495976853&di=3d57f91b4e885cfae438d067b07e6ff9&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201701%2F18%2F20170118234946_UmwMS.thumb.224_0.jpeg",username:"admin",roleId:"admin",role:{permissions:[{permissionId:"dashboard",permissionName:"首页",actionList:["profit"]},{permissionId:"list",permissionName:"列表",actionList:[]},{permissionId:"multiMenu",permissionName:"多级菜单",actionList:[]},{permissionId:"form",permissionName:"表单",actionList:[]},{permissionId:"permissionForm",permissionName:"权限表单",actionList:["add","delete"]}]}},"visitor-token":{name:"唐僧",avatar:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1557496245032&di=70e18d8e14e9f26abc85284421d89771&imgtype=0&src=http%3A%2F%2Faliimg.changba.com%2Fcache%2Fphoto%2F134115095_640_640.jpg",username:"visitor",roleId:"visitor",role:{permissions:[{permissionId:"dashboard",permissionName:"首页",actionList:[]}]}}},He=(Ve.a.mock(/api\/login/,"post",function(e){var t=JSON.parse(e.body),n=t.username,a=Ge[n];return a?{code:0,message:"OK",data:{token:a}}:{code:110,message:"用户名不正确",data:{}}}),Ve.a.mock(/api\/getUserInfo/,"get",function(e){var t=Object(qe["a"])(e.url,"id"),n=$e[t];return n?{code:0,message:"OK",data:{token:t,userInfo:n}}:{code:110,message:"登录失败，无法获取用户信息",data:{}}}),[]),Je=Ve.a.mock("@integer(60, 178)"),Qe=0;Qe<Je;Qe++)He.push(Ve.a.mock({"number|1000000-9999999":1234567,name:Ve.a.mock("@cword(`零一二三四五六七八九十`, 3)"),"origin|1":["北京","上海","广州"],date:Ve.a.mock("@date")}));Ve.a.mock(/api\/getList/,"get",function(e){var t=Object(qe["a"])(e.url,"currentPage"),n=Object(qe["a"])(e.url,"pageSize");if(t){var a=Math.ceil(Je/n),r=He.filter(function(e,a){return a<n*t&&a>=n*(t-1)});return{code:0,message:"OK",data:{currentPage:1,total:Je,pageSize:n,pages:a,list:r}}}return{code:110,message:"查询错误",data:{}}});console.log(Object({NODE_ENV:"production",VUE_APP_BASE_URL:"https://jrtb.xyz/",VUE_APP_ENV:"staging",BASE_URL:""})),a["default"].config.productionTip=!1,new a["default"]({router:Ae["c"],store:Re["a"],render:function(e){return e(c)}}).$mount("#app")},9607:function(e,t,n){e.exports={menuBg:"#001529",menuText:"#bfcbd9"}},a18c:function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"a",function(){return _}),n.d(t,"d",function(){return T});var a=n("6e6d"),r=n("1e6f"),o=function(){return n.e("login").then(n.bind(null,"033a"))},i=function(){return n.e("layout").then(n.bind(null,"eaf6"))},u=function(){return n.e("dashboard").then(n.bind(null,"cd59"))},s=function(){return n.e("document").then(n.bind(null,"080f"))},c=function(){return n.e("document").then(n.bind(null,"ba4e"))},d=function(){return n.e("muitiMenu").then(n.bind(null,"bd13"))},l=function(){return n.e("muitiMenu").then(n.bind(null,"fda3"))},m=function(){return n.e("muitiMenu").then(n.bind(null,"0e3f"))},f=function(){return n.e("muitiMenu").then(n.bind(null,"fffc"))},p=function(){return n.e("form").then(n.bind(null,"23bd"))},b=function(){return n.e("form").then(n.bind(null,"7995"))},h=function(){return n.e("list").then(n.bind(null,"26d4"))},g=function(){return n.e("map").then(n.bind(null,"0166"))},v=function(){return n.e("map").then(n.bind(null,"20f3"))},E=function(){return n.e("map").then(n.bind(null,"a335"))},y=function(){return n.e("404").then(n.bind(null,"2754"))};a["default"].use(r["a"]);var O=[{path:"/login",name:"login",component:o,hidden:!0},{path:"/404",name:"err404",component:y,hidden:!0}],_=[{path:"/",name:"layout",component:i,redirect:"/dashboard",children:[{path:"/dashboard",name:"dashboard",component:u,meta:{title:"首页",icon:"dashboard",permission:["dashboard"]}}]},{path:"/map",name:"map",component:i,meta:{title:"地图",icon:"location-arrow"},children:[{path:"real-time-location",name:"RealTimeLocation",component:g,meta:{title:"实时定位"}},{path:"multi-location",name:"MultiLocation",component:v,meta:{title:"多点定位"}},{path:"map-demo",name:"MapDemo",component:E,meta:{title:"演示"}}]},{path:"/document",name:"document",component:i,meta:{title:"文档",icon:"file-text"},children:[{path:"index",name:"documentIndex",component:s,meta:{title:"索引"}},{path:"conventions",name:"donventions",component:c,meta:{title:"规范"}}]},{path:"/list",name:"list",component:i,children:[{path:"index",name:"listIndex",component:h,meta:{title:"列表",icon:"list",permission:["list"]}}]},{path:"/form",name:"form",component:i,meta:{title:"表单",icon:"edit",permission:["form"]},children:[{path:"form1",name:"form1",component:p,meta:{title:"表单"}},{path:"step-form",name:"stepForm",component:b,meta:{title:"分步表单"}}]},{path:"/menu",name:"menu",component:i,meta:{title:"多级菜单",icon:"th",permission:["multiMenu"]},children:[{path:"menu1",name:"menu1",component:d,meta:{title:"菜单1"},children:[{path:"menu1-1",name:"menu1-1",component:l,meta:{title:"菜单1-1"}},{path:"menu1-2",name:"menu1-2",component:m,meta:{title:"菜单1-2"}}]},{path:"menu2",name:"menu2",component:f,meta:{title:"菜单2"}}]},{path:"*",name:"all",component:y,hidden:!0}],S=function(){return new r["a"]({scrollBehavior:function(){return{y:0}},routes:O})},k=S();function T(){var e=S();k.matcher=e.matcher}t["c"]=k},a576:function(e,t,n){"use strict";n("0857"),n("7e48"),n("3050");var a=n("a619"),r=n.n(a),o=n("f753"),i=n.n(o),u=n("dbe4");console.log("baseURL:","https://jrtb.xyz/");var s=i.a.create({baseURL:"https://jrtb.xyz/",timeout:5e3});s.interceptors.request.use(function(e){console.log(e);var t=Object(u["a"])();return t&&(e.headers["Authorization"]=t),e},function(e){return console.log(e),Promise.reject(e)}),s.interceptors.response.use(function(e){var t=e.data,n=t.code,a=t.message,o=t.data;return n&&0!==n&&r.a.alert(a,{type:"warning"}),{code:n,message:a,data:o}},function(e){return r.a.alert(e.toString(),{type:"warning"}),Promise.reject(e)}),t["a"]=s},c018:function(e,t,n){},d093:function(e,t,n){e.exports={menuBg:"#001529",menuText:"#bfcbd9"}},dbe4:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return s});var a=n("8c92"),r=n.n(a),o="Token";function i(){return r.a.get(o)}function u(e){return r.a.set(o,e,{expires:1})}function s(){return r.a.remove(o)}}});