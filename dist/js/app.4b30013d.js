(function(e){function t(t){for(var a,r,u=t[0],s=t[1],c=t[2],d=0,l=[];d<u.length;d++)r=u[d],o[r]&&l.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(l.length)l.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==o[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function u(e){return s.p+"js/"+({404:"404",dashboard:"dashboard",document:"document",form:"form",layout:"layout",list:"list",login:"login",muitiMenu:"muitiMenu"}[e]||e)+"."+{404:"fb9be9c9",dashboard:"978a50d9",document:"56f4c76d",form:"685e60a0",layout:"75171069",list:"0ce405c5",login:"750cfb6d",muitiMenu:"3923a179"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={404:1,dashboard:1,document:1,form:1,layout:1,list:1,login:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({404:"404",dashboard:"dashboard",document:"document",form:"form",layout:"layout",list:"list",login:"login",muitiMenu:"muitiMenu"}[e]||e)+"."+{404:"9ab3c346",dashboard:"22539089",document:"c97a7ad6",form:"cef53b1d",layout:"02200897",list:"bebb0820",login:"ef1e8186",muitiMenu:"31d6cfe0"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=i[u],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===o))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){c=l[u],d=c.getAttribute("data-href");if(d===a||d===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],f.parentNode.removeChild(f),n(i)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(e),c=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[e]=void 0}};var l=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4260:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});n("f10e"),n("5f33");function a(){var e=(new Date).getHours(),t="";switch(!0){case e>6&&e<9:t="早上好";break;case e>=9&&e<=12:t="上午好";break;case e>12&&e<17:t="下午好";break;case e>=17&&e<19:t="傍晚好";break;case e>=19&&e<22:t="晚上好";break;default:t="工作辛苦了"}return t}function r(e,t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=e.match(/\?(\S*)/)[1].match(n);return null!=a?a[2]:null}},4360:function(e,t,n){"use strict";var a=n("6e6d"),r=n("591a"),o={sidebar:{isCollapse:!1},device:"desktop"},i={TOGGLE_SIDEBAR:function(e){e.sidebar.isCollapse=!e.sidebar.isCollapse},TOGGLE_DEVICE:function(e,t){e.device=t},CLOSE_SIDEBAR:function(e){e.sidebar.isCollapse=!0},OPEN_SIDEBAR:function(e){e.sidebar.isCollapse=!1}},u={},s={namespaced:!0,state:o,mutations:i,actions:u},c=(n("3a23"),n("a576")),d=function(e){return c["a"].post("api/login",e)},l=function(e){return c["a"].get("api/getUserInfo",{params:e})},f=n("dbe4"),m=n("a18c"),p={token:Object(f["a"])(),name:"",avatar:"",role:{},info:{}},b={SET_TOKEN:function(e,t){e.token=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLE:function(e,t){e.role=t},SET_INFO:function(e,t){e.info=t}},h={login:function(e,t){var n=e.commit;return new Promise(function(e,a){d(t).then(function(t){var a=t.code,r=t.data.token;0===a&&(n("SET_TOKEN",r),Object(f["c"])(r),e())}).catch(function(e){a(e)})})},getUserInfo:function(e){var t=e.commit,n=e.state;return new Promise(function(e,a){l({id:n.token}).then(function(n){var r=n.code,o=n.message,i=n.data;0!==r&&a(new Error(o));var u=i.token,s=i.userInfo,c=s.name,d=s.avatar,l=s.role;(!l||l.permissions.length<=0)&&a(new Error("role的permissions字段必须是个非空的数组")),l.permissionList=l.permissions.map(function(e){return e.permissionId}),Object(f["c"])(u),t("SET_NAME",c),t("SET_AVATAR",d),t("SET_ROLE",l),t("SET_INFO",s),e(i)}).catch(function(e){a(e)})})},logout:function(e){var t=e.commit;e.state;t("SET_TOKEN",""),t("SET_NAME",""),t("SET_ROLE",{}),t("SET_INFO",{}),Object(f["b"])(),Object(m["d"])()},resetToken:function(e){var t=e.commit;return new Promise(function(e){t("SET_TOKEN",""),t("SET_ROLE",{}),Object(f["b"])(),e()})}},g={namespaced:!0,state:p,mutations:b,actions:h},v=(n("e0c1"),n("93fe"),n("5a1b")),E=n.n(v);function _(e,t){if(t.meta&&t.meta.permission){for(var n=!1,a=0,r=e.length;a<r;a++)if(n=t.meta.permission.includes(e[a]),n)return!0;return!1}return!0}function y(e,t){var n=e.filter(function(e){return!!_(t.permissionList,e)&&(e.children&&e.children.length&&(e.children=y(e.children,t)),!0)});return n}var O={routes:[],addRoutes:[]},S={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=m["b"].concat(t)}},k={generateRoutes:function(e,t){var n=e.commit;return new Promise(function(e){var a=y(E()(m["a"]),t);n("SET_ROUTES",a),e(a)})}},T={namespaced:!0,state:O,mutations:S,actions:k};a["default"].use(r["a"]);t["a"]=new r["a"].Store({modules:{app:s,user:g,permission:T}})},"56d7":function(e,t,n){"use strict";n.r(t);n("5c07"),n("53da"),n("2556"),n("d0f8");var a=n("6e6d"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=n("17cc"),u={},s=Object(i["a"])(u,r,o,!1,null,null,null),c=s.exports,d=(n("0da4"),n("3050"),n("03a8")),l=n.n(d),f=(n("042f"),n("605b")),m=n.n(f),p=(n("7e48"),n("a619")),b=n.n(p),h=(n("0b92"),n("5308")),g=n.n(h),v=(n("d8bc"),n("3a76")),E=n.n(v),_=(n("bfe3"),n("156b")),y=n.n(_),O=(n("98a5"),n("fc2a")),S=n.n(O),k=(n("be1d"),n("d774")),T=n.n(k),w=(n("05a5"),n("86d7")),A=n.n(w),x=(n("761f"),n("7d2b")),P=n.n(x),I=(n("9f4b"),n("018d")),N=n.n(I),j=(n("6fdd"),n("b103")),L=n.n(j),R=(n("751f"),n("44de")),U=n.n(R),M=(n("2aa3"),n("430e")),F=n.n(M),C=(n("d8bd"),n("a07b")),B=n.n(C),V=(n("e1f1"),n("5035")),$=n.n(V),D=(n("15ad"),n("05f2")),K=n.n(D),q=(n("164a"),n("92a2")),z=n.n(q),G=(n("e2da"),n("763e")),H=n.n(G),J=(n("0246"),n("2ae7")),Q=n.n(J),W=(n("0d84"),n("e247")),X=n.n(W),Y=(n("8909"),n("7409")),Z=n.n(Y),ee=(n("39ab"),n("c843")),te=n.n(ee),ne=(n("d005"),n("ae55")),ae=n.n(ne),re=(n("8008"),n("09b1")),oe=n.n(re),ie=(n("b530"),n("c538")),ue=n.n(ie),se=(n("d291"),n("d6ac")),ce=n.n(se),de=(n("93a0"),n("3493")),le=n.n(de),fe=(n("9b81"),n("6fd3")),me=n.n(fe),pe=(n("4543"),n("07ba")),be=n.n(pe),he=(n("b8df"),n("e3ec")),ge=n.n(he),ve=(n("4718"),n("d177")),Ee=n.n(ve),_e=(n("76ed"),n("159c")),ye=n.n(_e),Oe=(n("e117"),n("506c")),Se=n.n(Oe),ke=(n("5251"),n("4074")),Te=n.n(ke),we=(n("1cf9"),n("9ea2")),Ae=n.n(we),xe=(n("524b"),n("45c3")),Pe=n.n(xe),Ie=(n("99a7"),n("8652")),Ne=n.n(Ie),je=(n("ab84"),n("8a40")),Le=n.n(je),Re=(n("f016"),n("7bdc")),Ue=n.n(Re),Me=(n("7136"),n("e500")),Fe=n.n(Me);n("5b17"),n("20e9"),n("d093");a["default"].use(Fe.a),a["default"].use(Ue.a),a["default"].use(Le.a),a["default"].use(Ne.a),a["default"].use(Pe.a),a["default"].use(Ae.a),a["default"].use(Te.a),a["default"].use(Se.a),a["default"].use(ye.a),a["default"].use(Ee.a),a["default"].use(ge.a),a["default"].use(be.a),a["default"].use(me.a),a["default"].use(le.a),a["default"].use(ce.a),a["default"].use(ue.a),a["default"].use(oe.a),a["default"].use(ae.a),a["default"].use(te.a),a["default"].use(Z.a),a["default"].use(X.a),a["default"].use(Q.a),a["default"].use(H.a),a["default"].use(z.a),a["default"].use(K.a),a["default"].use($.a),a["default"].use(B.a),a["default"].use(F.a),a["default"].use(U.a),a["default"].use(L.a),a["default"].use(N.a),a["default"].use(P.a),a["default"].use(A.a),a["default"].use(T.a),a["default"].use(S.a),a["default"].use(y.a),a["default"].use(E.a),a["default"].use(g.a.directive),a["default"].prototype.$loading=g.a.service,a["default"].prototype.$msgbox=b.a,a["default"].prototype.$alert=b.a.alert,a["default"].prototype.$confirm=b.a.confirm,a["default"].prototype.$prompt=b.a.prompt,a["default"].prototype.$notify=m.a,a["default"].prototype.$message=l.a;n("c018"),n("f842"),n("508f");var Ce=n("a18c"),Be=n("4360"),Ve=(n("3a23"),n("e0c1"),n("3556")),$e=(n("4453"),n("a7ca")),De=n("dbe4"),Ke=n("38bc"),qe=n.n(Ke);n("70e7");qe.a.configure({showSpinner:!1});var ze=["login"];Ce["c"].beforeEach(function(){var e=Object($e["a"])(regeneratorRuntime.mark(function e(t,n,a){var r,o,i,u,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(qe.a.start(),r=Object(De["a"])(),!r){e.next=34;break}if("/login"!==t.path){e.next=8;break}a({path:"/"}),qe.a.done(),e.next=32;break;case 8:if(o=Be["a"].state.user.role&&Be["a"].state.user.role.permissions,!o){e.next=13;break}a(),e.next=32;break;case 13:return e.prev=13,e.next=16,Be["a"].dispatch("user/getUserInfo");case 16:return i=e.sent,u=i.userInfo.role,e.next=20,Be["a"].dispatch("permission/generateRoutes",u);case 20:s=e.sent,Ce["c"].addRoutes(s),a(Object(Ve["a"])({},t,{replace:!0})),e.next=32;break;case 25:return e.prev=25,e.t0=e["catch"](13),e.next=29,Be["a"].dispatch("user/resetToken");case 29:l.a.error(e.t0||"Has Error"),a({path:"/login"}),qe.a.done();case 32:e.next=35;break;case 34:ze.includes(t.name)?a():(a({path:"/login"}),qe.a.done());case 35:case"end":return e.stop()}},e,null,[[13,25]])}));return function(t,n,a){return e.apply(this,arguments)}}()),Ce["c"].afterEach(function(){qe.a.done()});n("93fe"),n("612f"),a["default"].directive("action",{inserted:function(e,t,n){var a=t.arg,r=Be["a"].state.user.role,o=n.context.$route.meta.permission,i=o instanceof String&&[o]||o;r.permissions.forEach(function(t){i.includes(t.permissionId)&&t.actionList&&!t.actionList.includes(a)&&(e.parentNode&&e.parentNode.removeChild(e)||(e.style.display="none"))})}});for(var Ge=n("fddc"),He=n.n(Ge),Je=n("4260"),Qe={admin:"admin-token",visitor:"visitor-token"},We={"admin-token":{name:"至尊宝",avatar:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1557495976853&di=3d57f91b4e885cfae438d067b07e6ff9&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201701%2F18%2F20170118234946_UmwMS.thumb.224_0.jpeg",username:"admin",roleId:"admin",role:{permissions:[{permissionId:"dashboard",permissionName:"首页",actionList:["profit"]},{permissionId:"list",permissionName:"列表",actionList:[]},{permissionId:"multiMenu",permissionName:"多级菜单",actionList:[]},{permissionId:"form",permissionName:"表单",actionList:[]},{permissionId:"permissionForm",permissionName:"权限表单",actionList:["add","delete"]}]}},"visitor-token":{name:"唐僧",avatar:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1557496245032&di=70e18d8e14e9f26abc85284421d89771&imgtype=0&src=http%3A%2F%2Faliimg.changba.com%2Fcache%2Fphoto%2F134115095_640_640.jpg",username:"visitor",roleId:"visitor",role:{permissions:[{permissionId:"dashboard",permissionName:"首页",actionList:[]}]}}},Xe=(He.a.mock(/api\/login/,"post",function(e){var t=JSON.parse(e.body),n=t.username,a=Qe[n];return a?{code:0,message:"OK",data:{token:a}}:{code:110,message:"用户名不正确",data:{}}}),He.a.mock(/api\/getUserInfo/,"get",function(e){var t=Object(Je["a"])(e.url,"id"),n=We[t];return n?{code:0,message:"OK",data:{token:t,userInfo:n}}:{code:110,message:"登录失败，无法获取用户信息",data:{}}}),[]),Ye=He.a.mock("@integer(60, 178)"),Ze=0;Ze<Ye;Ze++)Xe.push(He.a.mock({"number|1000000-9999999":1234567,name:He.a.mock("@cword(`零一二三四五六七八九十`, 3)"),"origin|1":["北京","上海","广州"],date:He.a.mock("@date")}));He.a.mock(/api\/getList/,"get",function(e){var t=Object(Je["a"])(e.url,"currentPage"),n=Object(Je["a"])(e.url,"pageSize");if(t){var a=Math.ceil(Ye/n),r=Xe.filter(function(e,a){return a<n*t&&a>=n*(t-1)});return{code:0,message:"OK",data:{currentPage:1,total:Ye,pageSize:n,pages:a,list:r}}}return{code:110,message:"查询错误",data:{}}});console.log(Object({NODE_ENV:"production",VUE_APP_BASE_URl:"prod-url/",VUE_APP_CLI_UI_URL:"",VUE_APP_ENV:"production",BASE_URL:""})),a["default"].config.productionTip=!1,new a["default"]({router:Ce["c"],store:Be["a"],render:function(e){return e(c)}}).$mount("#app")},a18c:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return E}),n.d(t,"d",function(){return O});var a=n("6e6d"),r=n("1e6f"),o=function(){return n.e("login").then(n.bind(null,"033a"))},i=function(){return n.e("layout").then(n.bind(null,"eaf6"))},u=function(){return n.e("dashboard").then(n.bind(null,"cd59"))},s=function(){return n.e("document").then(n.bind(null,"080f"))},c=function(){return n.e("document").then(n.bind(null,"ba4e"))},d=function(){return n.e("muitiMenu").then(n.bind(null,"bd13"))},l=function(){return n.e("muitiMenu").then(n.bind(null,"fda3"))},f=function(){return n.e("muitiMenu").then(n.bind(null,"0e3f"))},m=function(){return n.e("muitiMenu").then(n.bind(null,"fffc"))},p=function(){return n.e("form").then(n.bind(null,"23bd"))},b=function(){return n.e("form").then(n.bind(null,"7995"))},h=function(){return n.e("list").then(n.bind(null,"26d4"))},g=function(){return n.e("404").then(n.bind(null,"2754"))};a["default"].use(r["a"]);var v=[{path:"/login",name:"login",component:o,hidden:!0},{path:"/404",name:"err404",component:g,hidden:!0}],E=[{path:"/",name:"layout",component:i,redirect:"/dashboard",children:[{path:"/dashboard",name:"dashboard",component:u,meta:{title:"首页",icon:"dashboard",permission:["dashboard"]}}]},{path:"/document",name:"document",component:i,meta:{title:"文档",icon:"file-text"},children:[{path:"index",name:"documentIndex",component:s,meta:{title:"索引"}},{path:"conventions",name:"donventions",component:c,meta:{title:"规范"}}]},{path:"/list",name:"list",component:i,children:[{path:"index",name:"listIndex",component:h,meta:{title:"列表",icon:"list",permission:["list"]}}]},{path:"/form",name:"form",component:i,meta:{title:"表单",icon:"edit",permission:["form"]},children:[{path:"form1",name:"form1",component:p,meta:{title:"表单"}},{path:"step-form",name:"stepForm",component:b,meta:{title:"分步表单"}}]},{path:"/menu",name:"menu",component:i,meta:{title:"多级菜单",icon:"th",permission:["multiMenu"]},children:[{path:"menu1",name:"menu1",component:d,meta:{title:"菜单1"},children:[{path:"menu1-1",name:"menu1-1",component:l,meta:{title:"菜单1-1"}},{path:"menu1-2",name:"menu1-2",component:f,meta:{title:"菜单1-2"}}]},{path:"menu2",name:"menu2",component:m,meta:{title:"菜单2"}}]},{path:"*",name:"all",component:g,hidden:!0}],_=function(){return new r["a"]({scrollBehavior:function(){return{y:0}},routes:v})},y=_();function O(){var e=_();y.matcher=e.matcher}t["c"]=y},a576:function(e,t,n){"use strict";n("48fb"),n("7e48"),n("3050");var a=n("a619"),r=n.n(a),o=n("7f43"),i=n.n(o),u=n("dbe4"),s=i.a.create({baseURL:Object({NODE_ENV:"production",VUE_APP_BASE_URl:"prod-url/",VUE_APP_CLI_UI_URL:"",VUE_APP_ENV:"production",BASE_URL:""}).VUE_APP_BASE_URL,timeout:5e3});s.interceptors.request.use(function(e){var t=Object(u["a"])();return t&&(e.headers["Authorization"]=t),e},function(e){return console.log(e),Promise.reject(e)}),s.interceptors.response.use(function(e){var t=e.data,n=t.code,a=t.message,o=t.data;return n&&0!==n&&r.a.alert(a,{type:"warning"}),{code:n,message:a,data:o}},function(e){return r.a.alert(e.toString(),{type:"warning"}),Promise.reject(e)}),t["a"]=s},c018:function(e,t,n){},d093:function(e,t,n){e.exports={menuBg:"#001529",menuText:"#bfcbd9"}},dbe4:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return s});var a=n("8c92"),r=n.n(a),o="Token";function i(){return r.a.get(o)}function u(e){return r.a.set(o,e,{expires:1})}function s(){return r.a.remove(o)}},f842:function(e,t,n){e.exports={menuBg:"#001529",menuText:"#bfcbd9"}}});